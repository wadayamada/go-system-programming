# 学んだこと
- UDPはTCPと違って、ウィンドウ制御、再送制御、輻輳制御、順序整理などはできないが、スリーウェイハンドシェイクのコストがないため高速。またマルチキャストができる。
- UDPではコネクションがないため、クライアントではListenPacketにDialしたら、早速リクエストができる。サーバーはリクエストが来た時に初めて、remote addrがわかり、そうするとメッセージを送れるようになる。
- マルチキャストはクライアントがListenMulticastUDPして、サーバーがDialしてからメッセージを送信することで行える。予約されているマルチキャストアドレスを使う。
- UDPはDNSや時間を合わせるためのNTPなどで使われる
- TCPの機能
  - シーケンス番号を使った順序制御
  - 受信側が確認応答番号を返すので、それが返ってこなかったら再送する再送制御
  - 受信側でバッファを用意して、そのバッファ分までは受信確認がなくてもメッセージを送信するウィンドウ制御
  - そのサイズも制御できて、フロー制御
  - 最初、徐々に通信量を増やしていき、輻輳してパケット消失したら通信量をおさえる輻輳制御

# 面白かったこと
- UDPではサイズが大きいとIPレベルでパケット分割が起きて、パケット結合待ちなどが起きてしまう
- UDPパケットの最大サイズは64KBなので、それ以上でかいと別のUDPパケットとして扱う必要がある

# わからなかったこと
- サーバー側でnet.ListenPacketしてからクライアント側でnet.Dialして、conn.WriteToしたものはクライアントで受け取れたが、新しくサーバー側でnet.Dialでconnを作って、conn.Writeしたものはクライアントで受け取れなかった

# やること
- [x] UDPを使った通信

# TCPの機能
synchronize, synchronize-acknowledge, acknowledgeでコネクションを確立する
再送制御、順序制御、ウィンドウ制御とフロー制御、輻輳制御

# UDP
コネクションレス
IPとポートが分かれば勝手に送りつけられる？
## 何が利点か
マルチキャストとブロードキャストをサポートしてる
コネクションがないため、ハンドシェイクの時間がかからないので、高速
## 何に使われているか
- DNS
- NTP: 時計合わせのためのプロトコル
- 様々なストリーミング動画・音声プロトコル
- WebRTC: ブラウザで使うP2Pのための動画・音声通信プロトコル
- QUIC: TCPを軽量化して、TLSの暗号化と合体化させたUDPベースのトランスポート層のプロトコル。
  - HTTP/1.1, HTTP/2と同じ信頼性が保てている
  - QUIC上で動作するHTTPがHTTP/3

## 動画や音声を配信したい時ってどうやって実装するんだろ
たとえばZoomのようにこちらのカメラの映像を他のコンピューターに配信したい時にUDPを使うとする
Realtime Transport Protoclというのを使ってるらしい
Golangにもこれを使えるライブラリがあるらしい。素のUDPを使っても実装できそう
必要な技術は以下だよな
- カメラ映像を取得して、バイナリ配列にする
- バイナリ配列をUDPなどで相手に送る
- 受け取ったバイナリ配列を画面に表示する
パブリッククラウドだと、Amazon IVSやAmazon CloudFrontで動画配信等ができるらしい